# Spring 的 APO
## Spring 的 AOP 简介
    AOP（Aspect Oriented Programming）面向切面编程。
    - 通过预编译方式和运行期动态代理实现程序功能的同一维护。
    - AOP是OOP的一种延续，也是Spring框架的重要组成部分。
    - 是函数式编程的一种衍生泛型。

### 软件开发思想转变
1. 面型过程开发：最初用C语言开发。语言层面。
2. 面向对象开发：Java语言。语言层面。
3. 面向切面编程：AOP不是一种语言，而是**某种**语言中的一种思想。
4. 面向服务架构：SOA是面向服务架构。

### 什么是AOP
作用：在不修改源代码的基础上 对目标 方法/功能 实现增强。
**切面：目标方法 + 增强方法**。
我们编程要针对这个面去编程。

--------
从概念上讲不好讲，从业务角度讲：
类A ： A功能（方法） + X功能（方法）
类B ： B功能 + X功能
抽取：X功能 => Fu类中  
A类通过 继承 实现 X功能：A类 extends Fu类（有X功能） 
B类通过 继承 实现 X功能：B类 extends Fu类（有X功能） 
**继承 缺点**：继承是**纵向的**，会导致代码很臃肿。想象搭积木。
**动态代理**：在不修改A和B方法/功能的基础上，对方法进行增强。
**AOP**：底层封装的就是**动态代理**。AOP是**横向抽取**。
    - **切面：目标方法 + 增强方法**。
    - 原来你需要自己编写动态代理的代码，但是现在 通过**配置**就可以**实现动态代理**。
    - 组合时间：功能增强在 运行 时期 进行组合。

### AOP 底层实现
面向切面编程底层是动态代理。
1. JDK的动态代理：基于接口。有一个缺点 —— 必须要有一个接口。
    - 本质：为接口在内存当中 动态地 创建一个接口实现类对象——代理对象。这个对象就是Proxy  负责帮你内部调目标对象。在调对象之前或之后进行一些增强。

    如果类本身没有接口，那使用JDK的方式无法实现动态代理。

2. Cglib动态代理（第三方提供）：基于子类。
    - 本质：为你当前的类在内存中 造了一个**子类**。但是这个子类并不是简单的继承，而是代理对象。

    Spring将Cglib动态代理集成到了内部。

最终结果：会动态帮你生成一个**代理对象**。

Spring的底层两种动态代理技术都有。

几乎每个框架内部都会有动态代理。


## Spring的AOP的Xml配置

### AOP的常用术语
- 目标对象：要被增强的对象。
- 代理对象：代理目标对象的对象。
- 连接点：可以被增强的方法。（目标方法：可以被增强的方法。）
- 切（入）点：真正被增强的方法。（已经被增强的方法）
- 增强/通知：功能增强的方法。
- 切面：增强/通知 + 切点。
- 织入：将增强/通知 和 切点 结合的过程。（AOP配置的就是这个）
- 引介：动态生成一些方法 、字段。

### 导包
### 定义目标类（含有连接点） 和 切面类（含有增强方法）
### 使用xml配置bean
1. 核心配置文件中定义 目标类 和 切面类 的bean。
### 使用xml配置AOP
2. 配置AOP。
    <aop:config>
        <aop:aspect ref="切面类的引用（bean标签的id名称）">
            <aop:poitcut expression="execution()" id="myPointcut">
        </aop:aspect>
    </aop:config>

### 


## Spring的AOP的注解配置

### 导包
### 定义 目标类（内含连接点） 和 切面类（内含增强方法）
### 使用注解配置bean：@Component
1. 在 目标类（内含连接点）和 切面类 上分别标注 **@Component**。
2. 需要配置**组件扫描**才能使@Component注解生效：@ComponentScan

### 使用注解配置aop


### 组件扫描的配置
